<div fxLayout class="layout no-select hr-ant">
  <div class="main">
    <div class="tabs">
      <div
        class="tab"
        *ngFor="let item of tabs"
        [ngStyle]="
          item.selected
            ? {
                'border-bottom-color': '#00A86B',
                'border-top-color': '#FFFFFF',
                background: '#FFFFFF'
              }
            : {}
        "
        (click)="onTabClick(item)"
      >
        <i nz-icon class="icon" [nzIconfont]="getFileIcon(item.name)"></i>
        <p>{{ item.name }}</p>
        <div class="close-btn">
          <i
            nz-icon
            [nzType]="'close'"
            (click)="onTabClose(item); $event.stopPropagation()"
          ></i>
        </div>
      </div>
    </div>
  </div>
  <div fxFlex="grow"></div>
  <app-toolbar-divider></app-toolbar-divider>
  <button
    class="editor-mode-selector"
    nz-button
    nz-dropdown
    [nzDropdownMenu]="editorModeMenu"
    nzSize="small"
  >
    {{ editorMode }}
    <i nz-icon nzType="down"></i>
    <nz-dropdown-menu #editorModeMenu="nzDropdownMenu">
      <ul nz-menu>
        <li nz-menu-item (click)="onEditorModeChange(EditorMode.Logic)">
          逻辑模式
        </li>
        <li nz-menu-item (click)="onEditorModeChange(EditorMode.Design)">
          设计模式
        </li>
      </ul>
    </nz-dropdown-menu>
  </button>
  <nz-radio-group
    *ngIf="logicFile"
    class="layout-mode-selector"
    [(ngModel)]="layoutMode"
    (ngModelChange)="onLayoutModeChange(layoutMode)"
    nzSize="small"
  >
    <label nz-radio-button [nzValue]="LayoutMode.Visual">图形</label>
    <label nz-radio-button [nzValue]="LayoutMode.Split">分割</label>
    <label nz-radio-button [nzValue]="LayoutMode.Classic">代码</label>
  </nz-radio-group>
  <button
    *ngIf="!logicFile"
    nz-popconfirm
    class="goto-logic-mode"
    nzPopconfirmPlacement="bottomRight"
    nzPopconfirmTitle="进入图形模式可能会覆盖当前代码，是否继续？"
    (nzOnConfirm)="onGotoLogicMode()"
    nz-button
    nzSize="small"
  >
    进入图形模式
  </button>
</div>
